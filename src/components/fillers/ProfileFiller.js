import React, { useEffect } from 'react';
import { Box } from '@mui/material';
import anime from 'animejs';
import { gsap, Power2 } from 'gsap';
import { ScrollTrigger } from 'gsap/dist/ScrollTrigger';

const paths = [
	'M52.6,-67C63.5,-53.5,64.5,-32.5,64.3,-14.3C64,4,62.5,19.6,55.2,31.7C48,43.8,35.1,52.4,21.8,55.1C8.6,57.8,-5.1,54.6,-18.2,49.9C-31.4,45.2,-44.1,39,-53.8,28.2C-63.4,17.3,-70.1,1.9,-70.7,-15.6C-71.3,-33,-65.8,-52.5,-53,-65.7C-40.3,-78.8,-20.1,-85.7,0.3,-86.1C20.8,-86.5,41.6,-80.5,52.6,-67Z',
	'M44.2,-49.5C57.7,-41.2,69.6,-27.8,74.5,-11.5C79.4,4.9,77.3,24.1,66.8,34.9C56.2,45.7,37.2,47.9,20,53.6C2.8,59.2,-12.7,68.3,-28.6,67.3C-44.5,66.4,-60.8,55.5,-67.6,40.6C-74.4,25.7,-71.6,6.8,-67.4,-11C-63.2,-28.7,-57.5,-45.2,-46,-53.9C-34.5,-62.5,-17.3,-63.2,-1,-62C15.3,-60.9,30.6,-57.8,44.2,-49.5Z',
	'M37.1,-45.5C48.8,-34.4,59.4,-23.4,66.4,-8.1C73.3,7.1,76.6,26.6,70.5,44C64.4,61.3,48.9,76.5,31.7,79.3C14.6,82,-4.1,72.4,-22.8,64.7C-41.4,57,-60,51.2,-66.8,38.8C-73.6,26.5,-68.7,7.6,-62,-7.5C-55.2,-22.7,-46.8,-34.2,-36.2,-45.5C-25.5,-56.7,-12.8,-67.9,0,-67.8C12.7,-67.8,25.4,-56.6,37.1,-45.5Z',
	'M46.5,-54.7C60.9,-43.4,73.5,-29.3,75.8,-13.7C78.1,1.8,70.1,18.8,60.7,35C51.3,51.3,40.6,66.7,27.2,69.3C13.7,71.9,-2.5,61.7,-18.7,54.5C-34.9,47.2,-51.1,43.1,-58.4,32.7C-65.6,22.3,-63.8,5.7,-63,-13.3C-62.2,-32.2,-62.5,-53.5,-52.2,-65.5C-41.8,-77.5,-20.9,-80.3,-2.4,-77.4C16.1,-74.5,32.2,-66,46.5,-54.7Z',
	'M56.9,-62C72.1,-55,81.8,-35.6,79.3,-18.5C76.9,-1.5,62.3,13,52.7,31C43,48.9,38.2,70.3,24.9,80.3C11.6,90.3,-10.2,89,-28.2,81C-46.2,72.9,-60.5,58,-67.9,41.2C-75.3,24.3,-75.9,5.4,-70.4,-10.1C-64.9,-25.5,-53.2,-37.5,-40.5,-45C-27.7,-52.5,-13.9,-55.3,3.5,-59.5C20.8,-63.6,41.6,-69,56.9,-62Z',
	'M43.4,-49.4C59.7,-38,78.9,-27.6,80.1,-15C81.3,-2.3,64.6,12.7,53.5,29.9C42.4,47.2,36.9,66.7,23.7,76.6C10.4,86.4,-10.6,86.5,-25.9,77.9C-41.2,69.4,-50.8,52.1,-58.8,35.4C-66.9,18.6,-73.3,2.3,-72.3,-14.4C-71.3,-31.1,-63,-48.1,-49.7,-59.9C-36.4,-71.8,-18.2,-78.6,-2.3,-75.8C13.5,-73.1,27.1,-60.7,43.4,-49.4Z',
];

const mainpaths = [
	'M40.6,-70C53.3,-62.9,65,-53.6,74.4,-41.5C83.8,-29.5,90.9,-14.8,88.4,-1.4C86,11.9,73.9,23.8,64.8,36.2C55.6,48.6,49.3,61.5,38.9,68.1C28.6,74.8,14.3,75.2,1.9,71.9C-10.5,68.6,-21,61.5,-34.1,56.5C-47.2,51.5,-63,48.5,-71.4,39.4C-79.7,30.3,-80.6,15.2,-77.3,1.9C-74.1,-11.4,-66.6,-22.8,-60,-34.7C-53.3,-46.7,-47.4,-59.2,-37.5,-68.1C-27.6,-76.9,-13.8,-82,0,-82.1C13.9,-82.1,27.8,-77.1,40.6,-70Z',
	'M38.5,-66C51.4,-59.3,64.4,-52,73,-40.9C81.7,-29.8,86.1,-14.9,82.4,-2.2C78.6,10.5,66.6,21,58,32.3C49.4,43.6,44.3,55.7,35.2,66.8C26.1,78,13,88.2,-0.6,89.2C-14.2,90.2,-28.5,82.1,-40.5,72.6C-52.5,63.2,-62.3,52.4,-71.6,40.1C-80.9,27.7,-89.8,13.9,-89.4,0.2C-89,-13.4,-79.3,-26.8,-69.5,-38.4C-59.8,-50,-50,-59.8,-38.4,-67.2C-26.8,-74.7,-13.4,-79.8,-0.3,-79.3C12.8,-78.8,25.6,-72.7,38.5,-66Z',
	'M42.1,-72.8C53.5,-66.3,61.1,-53,67.2,-39.7C73.3,-26.4,78,-13.2,75.9,-1.2C73.7,10.7,64.8,21.5,57.2,32.2C49.7,43,43.4,53.8,34.1,60.9C24.8,68,12.4,71.6,0.8,70.1C-10.8,68.7,-21.5,62.3,-34.4,57.2C-47.4,52.2,-62.5,48.5,-68.7,39.2C-74.8,29.9,-72,14.9,-69.6,1.4C-67.1,-12.1,-65,-24.2,-60.6,-36.5C-56.1,-48.8,-49.3,-61.2,-38.8,-68.2C-28.3,-75.2,-14.2,-76.9,0.6,-77.9C15.3,-78.9,30.7,-79.3,42.1,-72.8Z',
	'M36.6,-64.7C46.1,-57.8,51.6,-45.4,59.1,-33.7C66.7,-22,76.1,-11,79.2,1.8C82.3,14.6,79.1,29.2,70.5,38.9C61.8,48.6,47.7,53.5,35.1,57.8C22.4,62.2,11.2,66,0,66.1C-11.3,66.2,-22.6,62.4,-36.2,58.6C-49.8,54.8,-65.7,50.9,-73,41.2C-80.4,31.4,-79.3,15.7,-74.9,2.5C-70.5,-10.6,-62.8,-21.2,-57.6,-34.7C-52.3,-48.1,-49.4,-64.3,-40.2,-71.4C-31,-78.4,-15.5,-76.2,-1,-74.5C13.5,-72.7,27,-71.5,36.6,-64.7Z',
	'M43.5,-73.2C57.9,-67.1,72,-58.4,81,-45.8C89.9,-33.2,93.7,-16.6,89,-2.7C84.2,11.1,71,22.2,61.1,33.1C51.1,44,44.4,54.7,34.8,61.4C25.2,68.2,12.6,70.9,0.6,69.9C-11.4,68.9,-22.9,64.2,-32.8,57.7C-42.7,51.1,-51.1,42.7,-58.3,32.8C-65.5,22.9,-71.6,11.4,-71.1,0.3C-70.6,-10.9,-63.6,-21.7,-56.8,-32.5C-50.1,-43.2,-43.6,-53.9,-34.2,-62.9C-24.8,-71.9,-12.4,-79.3,1.1,-81.2C14.6,-83.1,29.2,-79.4,43.5,-73.2Z',
	'M45.9,-78.7C58.9,-72.1,68.2,-58.4,73.6,-44.2C79,-29.9,80.4,-14.9,81.5,0.6C82.7,16.2,83.5,32.5,77.2,45.2C71,58,57.6,67.3,43.5,75.6C29.5,84,14.7,91.5,1.5,88.9C-11.8,86.4,-23.6,73.8,-34.2,63.5C-44.9,53.1,-54.4,45,-64.5,34.8C-74.7,24.6,-85.4,12.3,-85.7,-0.1C-85.9,-12.6,-75.7,-25.2,-66.2,-36.6C-56.8,-48,-48.1,-58.2,-37.2,-66C-26.3,-73.8,-13.2,-79.3,1.7,-82.2C16.5,-85.1,33,-85.4,45.9,-78.7Z',
	'M33,-57C43.3,-51.2,52.6,-43.5,60.2,-33.6C67.7,-23.8,73.5,-11.9,74.1,0.3C74.6,12.5,69.9,25.1,62.6,35.3C55.2,45.5,45.3,53.4,34.5,59.3C23.6,65.2,11.8,69,-1.8,72.2C-15.4,75.3,-30.9,77.8,-45,73.8C-59.1,69.8,-71.8,59.3,-80.3,45.9C-88.8,32.5,-93.1,16.3,-91.1,1.2C-89.1,-14,-80.8,-27.9,-72.4,-41.5C-64,-55.1,-55.5,-68.2,-43.4,-73C-31.3,-77.8,-15.7,-74.3,-2.2,-70.6C11.3,-66.8,22.7,-62.8,33,-57Z',
	'M42.3,-69.8C55.1,-65.9,66,-55.1,73.6,-42.4C81.2,-29.6,85.5,-14.8,87,0.8C88.4,16.4,86.9,32.9,79.5,45.9C72,59,58.6,68.6,44.4,71.9C30.1,75.1,15.1,72,0,72C-15.1,72,-30.1,75.1,-42,70.5C-53.9,65.9,-62.7,53.6,-69,40.6C-75.4,27.5,-79.2,13.8,-81.5,-1.3C-83.8,-16.4,-84.5,-32.8,-78.4,-46.2C-72.2,-59.5,-59.2,-69.8,-45,-73C-30.8,-76.1,-15.4,-72.1,-0.3,-71.6C14.7,-71,29.5,-73.8,42.3,-69.8Z',
];

gsap.registerPlugin(ScrollTrigger);

const MainPhotoBlob = () => {
	useEffect(() => {
		gsap.to('.profileBlob', {
			scrollTrigger: {
				trigger: '.blobTrigger',
				start: 'top bottom',
				end: 'top top',
			},
			opacity: 1,
			y: '90vh',
			ease: Power2.easeOut,
			duration: 1,
		});
		anime({
			targets: '.polymorph-back',
			d: [
				{ value: paths[0] },
				{ value: paths[1] },
				{ value: paths[2] },
				{ value: paths[3] },
				{ value: paths[4] },
			],
			duration: 10000,
			loop: true,
			easing: 'linear',
			direction: 'alternate',
		});
		anime({
			targets: '.polymorph',
			d: [
				{ value: mainpaths[0] },
				{ value: mainpaths[1] },
				{ value: mainpaths[2] },
				{ value: mainpaths[3] },
				{ value: mainpaths[4] },
				{ value: mainpaths[5] },
				{ value: mainpaths[6] },
				{ value: mainpaths[7] },
			],
			duration: 10000,
			loop: true,
			easing: 'linear',
			direction: 'alternate',
		});
	});

	return (
		<Box
			sx={{
				height: '700px',
				width: '700px',
				position: 'relative',
				transform: [
					'scale(0.6) translateY(-100vh)',
					'scale(0.7) translateY(-100vh)',
					'scale(1)',
					'scale(1)',
					'scale(1)',
				],
			}}
		>
			<svg
				viewBox="0 0 200 200"
				xmlns="http://www.w3.org/2000/svg"
				style={{
					position: 'absolute',
					zIndex: 5,
				}}
			>
				<clipPath id="clip-path">
					<path
						fill="#FF0066"
						d="M34.8,-62.6C46.5,-53.6,58.1,-46.9,62.7,-36.9C67.3,-26.8,64.9,-13.4,67.3,1.4C69.6,16.1,76.8,32.3,73.7,45C70.7,57.8,57.4,67.2,43.4,71.7C29.5,76.3,14.7,76.1,-0.4,76.8C-15.5,77.4,-31,78.9,-43.3,73.4C-55.7,67.9,-65,55.4,-70.2,42C-75.5,28.6,-76.8,14.3,-77.2,-0.2C-77.6,-14.7,-77.1,-29.5,-69.9,-39.6C-62.8,-49.8,-49,-55.4,-36.3,-63.8C-23.5,-72.1,-11.8,-83,-0.1,-82.9C11.6,-82.8,23.2,-71.6,34.8,-62.6Z"
						transform="translate(100 100)"
						className="polymorph"
					/>
				</clipPath>
				<image
					href="/mainphoto.jpg"
					height="220"
					width="178"
					preserveAspectRatio="xMidYMid slice"
					clipPath='url("#clip-path")'
				/>
			</svg>

			<svg
				viewBox="0 0 200 200"
				xmlns="http://www.w3.org/2000/svg"
				style={{
					position: 'absolute',
					zIndex: 4,
					right: -50,
					opacity: '0.5',
				}}
			>
				<path
					fill="#d8d0ec"
					d="M59.3,-43.8C74.9,-27.7,84.3,-3.1,80.6,20.5C76.9,44.1,60,66.8,38.1,76.3C16.1,85.9,-10.9,82.2,-33.7,70.9C-56.6,59.5,-75.4,40.5,-79.7,19C-84,-2.6,-73.8,-26.7,-58.1,-42.8C-42.4,-59,-21.2,-67.2,0.3,-67.4C21.8,-67.7,43.6,-59.9,59.3,-43.8Z"
					transform="translate(100 100)"
					className="polymorph-back"
				/>
			</svg>
		</Box>
	);
};

const ProfileFiller = () => {
	return (
		<Box
			sx={{
				width: '100%',
				display: 'flex',
				justifyContent: 'center',
				// backgroundColor: 'white',
			}}
		>
			<Box
				sx={{
					opacity: '0',
				}}
				className="profileBlob"
			>
				<MainPhotoBlob />
			</Box>
			<Box
				sx={{
					transform: 'translateY(150vh)',
				}}
				className="blobTrigger"
			/>
		</Box>
	);
};

export default ProfileFiller;
